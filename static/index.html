<!DOCTYPE html>
<html>

<head>
    <title>UnixLab Code Share</title>
    <link rel="stylesheet" href="/static/styles/index-styles.css">
</head>

<body>
    <div id="sessionForm">
        <h2>üñ•Ô∏è UnixLab Code Share üíª</h2>
        <p>Enter a name for your session (special characters will be removed)</p>
        <form onsubmit="return submitSession()">
            <input type="text" id="sessionName" placeholder="Session Name" oninput="validateInput()">
            <button id="submitButton" type="submit" disabled>Create Session</button>
        </form>
    </div>

    <script>
        function validateInput() {
            var input = document.getElementById("sessionName");
            var submitButton = document.getElementById("submitButton");
            input.value = input.value.replace(/\s+/g, '-').replace(/[^a-zA-Z0-9-]/g, '');

            submitButton.disabled = input.value.length === 0;
        }

        function submitSession() {
            var name = document.getElementById("sessionName").value;
            window.location.href = '/' + encodeURIComponent(name);
            return false; // Prevents the default form submission
        }

        validateInput();
    </script>
</body>

</html>